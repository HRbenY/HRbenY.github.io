id,priority,phase,area,title,description,acceptance_criteria,test_mcp,review_initial_requirements,review_regression_requirements,dev_state,review_initial_state,review_regression_state,git_state,owner,refs,notes
"BLOG-010","P1","1","both","盘点生效配置与打字机接管点","确认站点/主题实际生效配置文件与首页打字机接管入口，避免改错位置或影响非首页。","列出并确认：站点配置使用 `_config.yml`，主题配置使用 `_config.fluid.yml`；确认首页打字机入口在 `themes/fluid/layout/_partials/plugins/typed.ejs` 且只在首页分支接管。","AUTOE2E","仅记录与确认，不引入行为改动；标注将要改动的文件与关键行号。","后续改动完成后，确认非首页页面打字机/副标题行为未被改动。","已完成","已完成","已完成","已提交","","plan/2026-01-17_20-32-04-blog-customizations.md:1;_config.yml:6;_config.fluid.yml:21;themes/fluid/layout/_partials/plugins/typed.ejs:1;notes/BLOG-010.md:1","picked_reason:document confirmed entry points | started_at:2026-01-17T21:05:58.0285695+08:00 | done_at:2026-01-17T21:06:23.7685696+08:00 | evidence:documented entry points in notes/BLOG-010.md"
"BLOG-020","P0","2","frontend","将 mai.png 作为 favicon 与 Apple touch icon","把根目录 `mai.png` 放入合适的静态目录并配置 Fluid 的 `favicon`/`apple_touch_icon` 指向它。","`source/img/mai.png` 存在且 `npx hexo g` 后可通过 `/img/mai.png` 访问；`_config.fluid.yml` 中 `favicon` 与 `apple_touch_icon` 均为 `/img/mai.png`；浏览器标签页图标更新生效。","AUTOE2E","避免改主题源码默认资源路径以外的无关项；保持路径以 `/img/` 形式引用。","检查生成站点中 `<link rel=""icon"">` 与 Apple touch 图标引用正确且无 404。","已完成","已完成","已完成","已提交","","plan/2026-01-17_20-32-04-blog-customizations.md:1;_config.fluid.yml:21;_config.fluid.yml:25;mai.png:1","picked_reason:P0 favicon first | started_at:2026-01-17T20:50:11.3353000+08:00 | done_at:2026-01-17T20:52:02.8915295+08:00 | evidence:public/index.html has /img/mai.png"
"BLOG-030","P0","3","backend","发布 words.json/status.json 为可 fetch 的静态资源","通过 Hexo generator 将根目录 `words.json`/`status.json` 输出到站点静态路径（如 `/words.json`、`/status.json`）。","执行 `npx hexo g` 后生成 `public/words.json` 与 `public/status.json`，内容为有效 JSON 且与根目录源文件一致/可追溯；前端可 `fetch(""/words.json"")` 与 `fetch(""/status.json"")` 成功。","AUTOSERVER","generator 只做“发布/复制”，不修改源 JSON 内容；失败时不阻断构建（可降级为跳过发布并输出清晰日志）。","清理构建（`hexo clean`）后重复生成仍能产出 JSON；确保不会把敏感文件误发布。","已完成","已完成","已完成","已提交","","plan/2026-01-17_20-32-04-blog-customizations.md:1;words.json:1;status.json:1","picked_reason:P0 publish json before providers | started_at:2026-01-17T20:52:52.2226683+08:00 | done_at:2026-01-17T20:54:06.9366721+08:00 | evidence:hexo g generated public/words.json & public/status.json matching root"
"BLOG-040","P0","4","frontend","实现可扩展首页打字机 Provider 接口与聚合器","定义 Provider 协议与聚合器：并发执行 providers，汇总 texts 构建内容池并随机选取 1 条输出。","存在 Provider 注册/配置机制（新增来源无需改聚合器）；聚合器支持超时与失败隔离（Provider 失败返回空，不影响其他来源）；当内容池为空时回退默认 subtitle。","AUTOFRONTEND","接口命名清晰、可扩展；所有网络/解析错误必须被捕获，禁止未处理 Promise rejection；避免在模板中堆大量逻辑。","在开启/关闭任一 Provider 的组合下，首页无报错且可稳定输出；空池回退行为稳定。","已完成","已完成","已完成","已提交","","plan/2026-01-17_20-32-04-blog-customizations.md:1;themes/fluid/layout/_partials/plugins/typed.ejs:1;themes/fluid/source/js/plugins.js:11;source/js/slogan-pool.js:1","picked_reason:P0 core pool API before providers | started_at:2026-01-17T20:54:56.0664315+08:00 | done_at:2026-01-17T20:55:52.8702867+08:00 | evidence:node VM loaded slogan-pool and registerProvider is function"
"BLOG-050","P1","5","frontend","天气 Provider：仅 IP 定位 + Open-Meteo，失败不展示天气","仅使用 IP 定位获取经纬度并请求 Open-Meteo Forecast；任一步失败则返回空数组，不输出天气文案。","不调用 `navigator.geolocation`；IP 定位失败或 Open‑Meteo 请求失败时首页不展示任何天气文案且控制台无报错；成功时输出包含温度/天气/风向的信息文本；天气结果具备 TTL 缓存以减少请求。","AUTOFRONTEND","IP 定位接口可配置且带超时；Open‑Meteo 请求参数最小化；严格失败隔离（try/catch + timeout + fallback）。","模拟 IP 定位失败与天气接口失败两种场景，确认不展示天气且其他 Provider 正常；缓存命中/失效逻辑正确。","已完成","已完成","已完成","已提交","","plan/2026-01-17_20-32-04-blog-customizations.md:1;source/js/slogan-pool.js:1","picked_reason:implement weather provider next | started_at:2026-01-17T20:56:39.7103151+08:00 | done_at:2026-01-17T20:57:51.0867052+08:00 | evidence:weather provider uses IP geo endpoints + Open-Meteo; no navigator.geolocation; failures return []"
"BLOG-060","P1","6","frontend","每日一词 Provider：从 words.json 随机取词","每次刷新首页从 `/words.json` 随机取一个词条并生成可展示文案。","首页每次刷新可从 `words.json` 取到 1 条 `{word,meaning}` 并渲染为单行文案；JSON 不可读/格式不符时返回空数组且不影响其他 Provider。","AUTOFRONTEND","随机选择逻辑无越界；对空数组/异常 JSON 有兜底；不缓存（或缓存策略明确）。","在 words.json 非空/为空/字段缺失三种场景下首页均无报错，且其他来源正常。","已完成","已完成","已完成","已提交","","plan/2026-01-17_20-32-04-blog-customizations.md:1;words.json:1;source/js/slogan-pool.js:1","picked_reason:add daily word provider | started_at:2026-01-17T20:58:19.2562654+08:00 | done_at:2026-01-17T20:59:08.9564816+08:00 | evidence:daily-word provider formats text from /words.json"
"BLOG-070","P1","7","frontend","状态 Provider：从 status.json 随机取状态","每次进入首页触发更新，从 `/status.json` 的 `texts[]` 或 `text` 生成候选文案。","支持 `status.json` 的 `{text}` 与 `{texts}` 两种格式；每次进入首页会随机选择并触发打字机更新；读取失败时返回空数组且不影响其他 Provider。","AUTOFRONTEND","优先使用 `texts[]`，兼容旧格式；避免在 DOM 未就绪时更新导致空指针。","在两种 JSON 格式下均可输出；当 status.json 缺失/无效时首页无报错且可回退。","已完成","已完成","已完成","已提交","","plan/2026-01-17_20-32-04-blog-customizations.md:1;status.json:1;source/js/slogan-pool.js:1","picked_reason:add status provider | started_at:2026-01-17T20:59:40.7243376+08:00 | done_at:2026-01-17T21:00:27.5978252+08:00 | evidence:my-status provider supports {text} and {texts[]}"
"BLOG-080","P0","8","frontend","仅首页接管 typed 初始化并注入自定义 JS","在 Fluid 的 `typed.ejs` 首页分支接入内容池逻辑，并通过 `custom_js` 注入聚合器/Providers。","首页：从内容池抽取文本后调用 `Fluid.plugins.typing(text)`；非首页：维持原逻辑不变；自定义 JS 加载顺序正确（调用前已加载），控制台无报错。","AUTOE2E","改动范围限制在首页分支；避免修改 `Fluid.plugins.typing` 的既有签名；自定义 JS 文件路径相对 `source/` 可追溯。","访问首页/文章页/关于页等至少 3 类页面验证副标题/打字机无回归；确认无重复初始化导致的光标/文本异常。","已完成","已完成","已完成","已提交","","plan/2026-01-17_20-32-04-blog-customizations.md:1;themes/fluid/layout/_partials/plugins/typed.ejs:1;themes/fluid/source/js/plugins.js:11;themes/fluid/layout/_partials/scripts.ejs:1;_config.fluid.yml:234","picked_reason:P0 wire homepage typed to pool | started_at:2026-01-17T21:00:56.2016451+08:00 | done_at:2026-01-17T21:02:53.4094010+08:00 | evidence:public/index.html includes /js/slogan-pool.js and typed.js calls SpaMasterSloganPool on DOMContentLoaded"
"BLOG-090","P1","9","frontend","完善关于页头像与可点击图标链接","使用 `mai.png` 作为头像，配置 GitHub/微信/邮箱为可点击图标链接，并补充 about 页面正文。","`_config.fluid.yml:about.avatar` 为 `/img/mai.png`；about 页展示头像；GitHub/微信/邮箱图标可点击且 href 分别为 GitHub 主页、可点击的微信号链接方案、`mailto:hrcharck@gmail.com`；`source/about/index.md` 不再是占位文本。","AUTOE2E","链接使用 HTTPS/mailto/tel 等明确 scheme；图标 class 确认存在于当前 iconfont（不存在则替换为已有 icon）。","在桌面端与移动端各打开一次 about 页，确认图标可点击且不影响布局；确认头像路径无 404。","已完成","已完成","已完成","已提交","","plan/2026-01-17_20-32-04-blog-customizations.md:1;_config.fluid.yml:981;source/about/index.md:1","picked_reason:complete about page info | started_at:2026-01-17T21:03:21.1206628+08:00 | done_at:2026-01-17T21:05:08.5526506+08:00 | evidence:public/about/index.html contains GitHub/wechat/mailto links + avatar /img/mai.png"
"BLOG-100","P1","10","both","更新站点标题并执行全量回归检查","将站点标题改为“Spa-Master 的博客”，并执行生成/预览验证 favicon、首页打字机、关于页等整体效果。","`_config.yml:title` 为 `Spa-Master 的博客`；执行 `npx hexo clean && npx hexo g && npx hexo s` 无报错；首页打字机每次进入更新且天气失败时不展示天气；about 页图标可点击；favicon 生效。","AUTOE2E","标题改动不影响 permalink/部署；回归清单覆盖首页/文章页/about 页。","做一次“失败注入”回归：临时让 IP 定位或天气请求失败，确认不会展示天气且页面无报错；确认构建产物无多余静态文件。","已完成","已完成","已完成","已提交","","plan/2026-01-17_20-32-04-blog-customizations.md:1;_config.yml:6","picked_reason:final title + full regression | started_at:2026-01-17T21:07:23.7381370+08:00 | done_at:2026-01-17T21:08:58.8598734+08:00 | evidence:hexo clean+g ok; python confirmed public/index.html contains ""Spa-Master 的博客""; node simulated weather failure -> pool returns daily+status only"
